<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page.title }}</title>
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3LL6Q0HLCS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3LL6Q0HLCS');
</script>


<body>
  <header id="main-header">
    <div class="container">
      <div class="header-title-section">
        <a id="a-title" href="{{ '/' | relative_url }}">
          <h1>{{ page.header_title }}</h1>
        </a>
        <h2>{{ page.header_subtitle }}</h2>
      </div>
      <div class="header-buttons">
        <div class="header-buttons-left">
          <a href="{{ '/' | relative_url }}" class="btn">Home</a>
          {% for button in page.header_buttons %}
            <a href="{{ button.url | relative_url }}" class="btn">{{ button.text }}</a>
          {% endfor %}
        </div>
        <div class="header-buttons-right">
          <a href="https://docs.google.com/document/d/1sxSIUc1SHd6dxjpGNuxTeqvKMAwkUhzuQel3CqaHADE/preview" class="btn cv-btn" target="_blank">CV</a>
        </div>
      </div>
    </div>
  </header>
  
  <!-- Background with same styling as homepage -->
  <div class="subpage-background"></div>
  
  <div class="container subpage-container">
    <section id="main_content">
      {{ content }}
    </section>
  </div>
  <footer>
    <div class="footer-content">
      <img src="../assets/images/ut_logo.png" alt="ut logo" class="footer-logo ut-logo">
      <img src="../assets/images/hetdex_logo.jpg" alt="hetdex logo" class="footer-logo hetdex-logo">
      <img src="../assets/images/psu_logo.png" alt="psu logo" class="footer-logo psu-logo">
    </div>
  </footer>

  <script>
    // Dynamic header shrinking on scroll (same as homepage)
    window.addEventListener('scroll', function() {
        const header = document.querySelector('#main-header');
        const scrollY = window.scrollY;
        
        if (scrollY > 50) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    });

    // Expandable research tiles functionality
    document.addEventListener('DOMContentLoaded', function() {
        const sections = document.querySelectorAll('.research-tile');
        
        sections.forEach(section => {
            const header = section.querySelector('.tile-header');
            const content = section.querySelector('.tile-content');
            
            if (header && content) {
                // Click anywhere on the tile to expand (when collapsed)
                section.addEventListener('click', function(e) {
                    if (!section.classList.contains('expanded')) {
                        section.classList.add('expanded');
                        content.classList.add('expanded');
                    }
                });
                
                // Click on header to collapse (when expanded)
                header.addEventListener('click', function(e) {
                    if (section.classList.contains('expanded')) {
                        e.stopPropagation(); // Prevent the tile click from firing
                        section.classList.remove('expanded');
                        content.classList.remove('expanded');
                    }
                });
            }
        });
    });

    // JavaScript to make all external links open in a new tab
    document.querySelectorAll('a[href^="http"]').forEach(link => {
      link.setAttribute('target', '_blank');
      link.setAttribute('rel', 'noopener noreferrer');
    });
  </script>


</body>
</html>